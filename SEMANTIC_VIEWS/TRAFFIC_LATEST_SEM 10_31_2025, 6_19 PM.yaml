name: TRAFFIC_LATEST_SEM
tables:
  - name: TRAFFIC_ALERTS
    description: This view provides a 7-day rolling window of traffic alerts, including road name, location, and severity, to help monitor and manage current traffic conditions.
    base_table:
      database: TOURISM_DB
      schema: CURATED
      table: TRAFFIC_ALERTS
    dimensions:
      - name: ROAD_NAME
        description: The name of the road or highway where a traffic alert has been reported.
        expr: ROAD_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - Ayala Ave Paseo→EDSA
          - C5 Kalayaan→BGC
          - Skyway Magallanes→NAIA
      - name: SEGMENT_ID
        description: Unique identifier for a specific road segment where traffic alerts are reported.
        expr: SEGMENT_ID
        data_type: VARCHAR(16777216)
        sample_values:
          - SEG-SKY-01
          - SEG-AYALA-01
          - SEG-KATIP-01
      - name: SEVERITY
        description: The severity level of the traffic alert, indicating the level of impact or disruption caused by the traffic condition, with possible values being Medium, Low, or High.
        expr: SEVERITY
        data_type: VARCHAR(16777216)
        sample_values:
          - Medium
          - Low
          - High
      - name: TYPE
        description: The type of traffic alert or incident that is causing a disruption to normal traffic flow.
        expr: TYPE
        data_type: VARCHAR(16777216)
        sample_values:
          - Flooded Lane
          - Roadwork
          - Breakdown
    time_dimensions:
      - name: AS_OF_TS
        description: Timestamp when the traffic alert was last updated.
        expr: AS_OF_TS
        data_type: TIMESTAMP_TZ(9)
        sample_values:
          - 2025-10-09T07:30:00.000+0800
          - 2025-10-30T07:30:00.000+0800
          - 2026-01-08T07:30:00.000+0800
    facts:
      - name: LAT
        description: Latitude of the traffic alert location.
        expr: LAT
        data_type: FLOAT
        access_modifier: public_access
        sample_values:
          - '14.640392'
          - '14.554135'
          - '14.52321'
      - name: LON
        description: Longitude coordinate of the traffic alert location.
        expr: LON
        data_type: FLOAT
        access_modifier: public_access
        sample_values:
          - '121.013989'
          - '120.98108'
          - '121.023273'
  - name: TRAFFIC_LATEST
    description: This view provides the latest traffic information for each road segment, including the road name, start and end coordinates, and current speed and congestion level, based on the most recent timestamp available.
    base_table:
      database: TOURISM_DB
      schema: CURATED
      table: TRAFFIC_LATEST
    dimensions:
      - name: CONGESTION_LEVEL
        description: The current level of traffic congestion, categorized as either "Light" (free-flowing traffic with minimal delays) or "Moderate" (some slowing of traffic with noticeable delays).
        expr: CONGESTION_LEVEL
        data_type: VARCHAR(16777216)
        sample_values:
          - LIGHT
          - MODERATE
      - name: ROAD_NAME
        description: The name of the road or highway being monitored for traffic updates.
        expr: ROAD_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - EDSA Ayala→Guadalupe
          - C5 Kalayaan→BGC
          - Ayala Ave Paseo→EDSA
      - name: SEGMENT_ID
        description: Unique identifier for a specific segment of road or highway in the traffic monitoring system.
        expr: SEGMENT_ID
        data_type: VARCHAR(16777216)
        sample_values:
          - SEG-EDSA-01
          - SEG-AYALA-01
          - SEG-C5-01
    time_dimensions:
      - name: AS_OF_TS
        description: The timestamp when the traffic data was last updated.
        expr: AS_OF_TS
        data_type: TIMESTAMP_TZ(9)
        sample_values:
          - 2026-03-31T08:00:00.000+0800
    facts:
      - name: END_LAT
        description: The latitude of the endpoint of a traffic incident or event.
        expr: END_LAT
        data_type: FLOAT
        access_modifier: public_access
        sample_values:
          - '14.5481'
          - '14.5667'
          - '14.5519'
      - name: END_LON
        description: The longitude of the end point of a traffic event or incident.
        expr: END_LON
        data_type: FLOAT
        access_modifier: public_access
        sample_values:
          - '121.0423'
          - '121.0263'
          - '121.0569'
      - name: SPEED_KPH
        description: The average speed of traffic in kilometers per hour.
        expr: SPEED_KPH
        data_type: FLOAT
        access_modifier: public_access
        sample_values:
          - '14'
          - '23'
          - '22'
      - name: START_LAT
        description: The latitude of the starting point of a traffic event or incident.
        expr: START_LAT
        data_type: FLOAT
        access_modifier: public_access
        sample_values:
          - '14.5547'
          - '14.5572'
          - '14.5532'
      - name: START_LON
        description: The longitude of the starting point of a traffic event or incident.
        expr: START_LON
        data_type: FLOAT
        access_modifier: public_access
        sample_values:
          - '121.0213'
          - '121.0193'
          - '121.0426'